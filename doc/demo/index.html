<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Datetimepicker的demo</title>
    <meta name="viewport" content="width=320,maximum-scale=1.3,user-scalable=no,minimal-ui"/>
    <script src="http://g.tbcdn.cn/kissy/k/1.4.7/seed.js" charset="utf-8"></script>
    <link rel="stylesheet" href="http://g.tbcdn.cn/kissy/k/1.3.0/css/dpl/base-min.css">
    <style>
        header {
            margin-left: 15px;
            height: 900px;
        }
        #J_show1 {
            margin-top: 205px;
        }
        #text-show12 {
            width: 800px;
            height: 320px;
        }
        hr {
            margin : 20px;
        }
    </style>
</head>
<body>
<h2>Datetimepicker的demo</h2>
    <header>
        <div>
            时间段2015-03-01 22:00:00 到2015-03-04 11:00:00<br>
            和 2015-03-07 21:00:00 到2015-03-12 12:00:00<br>
            带时间的日历
        </div>
        <div>
            <input style="width:400px; margin-right:50px;" value="2015-03-02 22:00:00" type="text" id="J_val10" />
        </div>
        <hr>
        <div>
            时间段2015-03-01 22:00:00 到2015-03-04 11:00:00<br>
            和 2015-03-07 21:00:00 到2015-03-12 12:00:00<br>
            不带时间的日历
        </div>
        <div>
            <input style="width:400px; margin-right:50px;" value="2015-03-02 22:00:00" type="text" id="J_val11" />
        </div>
        <hr>
        <div>
            时间段2015-03-01 22:00:00 到2015-03-04 11:00:00<br>
            和 2015-03-07 21:00:00 到2015-03-12 12:00:00<br>
            固定展现的日历
        </div>
        <div>
            <div style="width:800px; margin-right:50px;" type="text" id="J_val12"></div>
        </div>
        <div>
            <textarea id="text-show12"></textarea>
        </div>
        <hr>
        <div>
            联动日历
        </div>
        <div>
            <input style="width:400px; margin-right:50px;" type="text" value="1996-11-13 11:11" id="J_val0" /><input style="width:400px;" type="text" value="2006-2-28 22:12" id="J_val1" />
        </div>
        <hr>
        <div>
            单日历
        </div>
        <div>
            <input style="width:400px; margin-right:50px;" type="text" value="1996-11-13 11:11" id="J_val2" />
        </div>
        <hr>
        <div>
            只有时间
        </div>
        <div>
            <input style="width:400px; margin-right:50px;" type="text" value="21:11" id="J_val3" />
        </div>
        <hr>
        <div>
            只有日历
        </div>
        <input style="width:400px; margin-right:50px;" type="text" value="1995-12-23" id="J_val4" />
        <hr>
        <div>
            有初始化时间
        </div>
        <input style="width:400px; margin-right:50px;" type="text" id="J_val5" />
        <hr>
        <div>
            使用当前时间
        </div>
        <hr>
        <div>
            <input style="width:400px; margin-right:50px;" type="text" id="J_val6" />
        </div>
        <div>
            中文时间
        </div>
        <div>
            <input style="width:400px; margin-right:50px;" value="1999年9月9日 22点22分22秒" type="text" id="J_val7" />
        </div>
        <hr>
        <div>
            事件响应
        </div>
        <div>
            <input style="width:400px; margin-right:50px;" value="1992年9月9日 12点23分02秒" type="text" id="J_val9" />
            <div id="J_show1"></div>
        </div>
        <hr>
        <div>
            手动添加
        </div>
        <div>
            <div style="width:800px; margin-right:50px;" type="text" id="J_val8"></div>
        </div>
    </header>
    <script>
        var S = KISSY;

        if (S.Config.debug) {
            var srcPath = "../";
            S.config({
                packages:[
                    {
                        name:"kg/datetimepicker/2.0.3",
                        path:srcPath,
                        charset:"utf-8",
                        ignorePackageNameInUri:true
                    }
                ]
            });
        }
    
        S.use('dom, kg/datetimepicker/2.0.3/index', function (S, DOM, Datetimepicker) {
              var a = new Datetimepicker({
                  start : '#J_val0',
                  end : '#J_val1'
              });
              var b = new Datetimepicker({
                  start : '#J_val2'
              });
              var c = new Datetimepicker({
                  start : '#J_val3',
                  datepicker : false
              });
              var d = new Datetimepicker({
                  start : '#J_val4',
                  timepicker : false,
                  closeOnDateSelect : true
              });
              var e = new Datetimepicker({
                  value : '1999-09-09 12:12',
                  start : '#J_val5',
                  timepicker : false,
                  closeOnDateSelect : true
              });
              var f = new Datetimepicker({
                  start : '#J_val6',
                  timepicker : false,
                  closeOnDateSelect : true
              });
              var g = new Datetimepicker({
                  closeOnDateSelect : false,
                  closeOnTimeSelect : false
              }).show();
              DOM.css(g.DTPTarget, {
                  position: 'relative'
              });
              DOM.append(g.DTPTarget, DOM.get('#J_val8'));
              var h = new Datetimepicker({
                  start : '#J_val7',
                  format : 'YYYY年MM月DD日 HH时mm分ss秒',
                  formatDate : 'YYYY年MM月DD日',
                  formatTime : 'HH时mm分ss秒',
                  closeOnDateSelect : true
              });
              var i = new Datetimepicker({
                  start : '#J_val9',
                  format : 'YYYY年MM月DD日 HH时mm分ss秒',
                  formatDate : 'YYYY年MM月DD日',
                  formatTime : 'HH时mm分ss秒',
                  closeOnDateSelect : true
              });
              function show(text) {
                  DOM.get('#J_show1').innerHTML += ('Event: ' + text + ' fired!</br>');
              }
              S.each(['clickLastMonth', 'clickNextMonth', 'clickToday', 'changeYear', 'changeMonth',
                      'clickTimeUp', 'clickTimeDown', 'clickDate', 'clickDateChange', 'clickTime', 'clickTimeChange',
                      'hidePanel', 'showPanel'], function(item) {
                  i.on(item, function() {
                      show(item);
                  });
              });
            //range部分的demo
            var j = new Datetimepicker({
                start : '#J_val10',
                closeOnDateSelect : false,

                acceptTime : [
                    {
                        start : '2015-03-01 22:00:00',
                        end : '2015-03-04 11:00:00'
                    },
                    {
                        start : '2015-03-07 21:00:00',
                        end : '2015-03-12 12:00:00'
                    }
                ]
            });
            var k = new Datetimepicker({
                start : '#J_val11',
                timepicker : false,
                closeOnDateSelect : false,
                acceptTime : [
                    {
                        start : '2015-03-01 22:00:00',
                        end : '2015-03-04 11:00:00'
                    },
                    {
                        start : '2015-03-07 21:00:00',
                        end : '2015-03-12 12:00:00'
                    }
                ]
            });
            var l = new Datetimepicker({
                closeOnDateSelect : false,
                closeOnTimeSelect : false,
                timepicker : true,
                acceptTime : [
                    {
                        start : '2015-03-01 22:00:00',
                        end : '2015-03-04 11:00:00'
                    },
                    {
                        start : '2015-03-07 21:00:00',
                        end : '2015-03-12 12:00:00'
                    }
                ]
            }).show();
            DOM.css(l.DTPTarget, {
                position: 'relative'
            });
            DOM.append(l.DTPTarget, DOM.get('#J_val12'));
            function rangeTextShow(text) {
                var textArea = DOM.get('#text-show12');
                var val = DOM.val(textArea);
                val += text + '\n';
                DOM.val(textArea, val);
            }
            l.on('clickDate', function(e) {
                rangeTextShow('l.getDate()      : ' + l.getDate());
                rangeTextShow('l.getTime()      : ' + l.getTime());
                rangeTextShow('l.getDateTime()    : ' + l.getDateTime());
                rangeTextShow('l.getDateStr()     : ' + l.getDateStr());
                rangeTextShow('l.getTimeStr()     : ' + l.getTimeStr());
                rangeTextShow('l.getDateTimeStr() : ' + l.getDateTimeStr());
                rangeTextShow('========== clickDate event in above ============');
            });
            l.on('clickTime', function(e) {
                rangeTextShow('l.getDate()      : ' + l.getDate());
                rangeTextShow('l.getTime()      : ' + l.getTime());
                rangeTextShow('l.getDateTime()    : ' + l.getDateTime());
                rangeTextShow('l.getDateStr()     : ' + l.getDateStr());
                rangeTextShow('l.getTimeStr()     : ' + l.getTimeStr());
                rangeTextShow('l.getDateTimeStr() : ' + l.getDateTimeStr());
                rangeTextShow('========== clickTime event in above  ============');
            });
            l.on('clickTimeChange', function(e) {
                rangeTextShow('l.getDate()      : ' + l.getDate());
                rangeTextShow('l.getTime()      : ' + l.getTime());
                rangeTextShow('l.getDateTime()    : ' + l.getDateTime());
                rangeTextShow('l.getDateStr()     : ' + l.getDateStr());
                rangeTextShow('l.getTimeStr()     : ' + l.getTimeStr());
                rangeTextShow('l.getDateTimeStr() : ' + l.getDateTimeStr());
                rangeTextShow('========== clickTimeChange event  in above ============');
            });
        })
    </script>
</body>
</html>
